{% extends "_base.html" %}
{% block content %}
  <div class="p-4 overflow-x-auto bg-white rounded-lg shadow-md w-fit mx-auto">
    <a href="{% url 'account:create_user' %}"
       class="inline-flex items-center px-4 py-2 text-sm font-medium text-center text-white bg-slate-800 rounded-lg hover:bg-slate-700 focus:ring-4 focus:outline-none focus:ring-slate-300 ">
      Create
    </a>
    <table class="text-left text-gray-900 divide-y text-sm">
      <thead class="font-semibold text-gray-900 uppercase bg-white text-xs">
        <tr>
          <th scope="col" class="p-2">Username</th>
          <th scope="col" class="p-2">Email</th>
          <th scope="col" class="p-2">Full name</th>
          <th scope="col" class="p-2">Active</th>
          <th scope="col" class="p-2">Role</th>
          <th scope="col" class="p-2">Manages</th>
          <th scope="col" class="p-2 text-right">Action</th>
        </tr>
      </thead>
      <tbody>
        {% for user in page %}
          <tr class="bg-white border-b">
            <th scope="row"
                class="p-2 font-semibold text-gray-900 whitespace-nowrap dark:text-white">{{ user.username }}</th>
            <td class="p-2">{{ user.email }}</td>
            <td class="p-2 whitespace-nowrap">{{ user.first_name }} {{ user.last_name }}</td>
            <td class="p-2">{{ user.is_active }}</td>
            <td class="p-2">{{ user.profile.role }}</td>
            <td class="p-2">{{ user.profile.manages.count }}</td>
            <td class="p-2 text-right">
              <a href="{{ user.profile.get_absolute_url }}"
                 class="font-semibold text-slate-900  hover:underline ">Detail</a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
    {% include "pagination.html" %}
  </div>
{% endblock content %}
